(()=>{"use strict";var e={3379:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r,i=n(4942),l=n(5861),o=n(885),a=n(2982),u=n(8702),s=n(1693),c=n(2073),d=n(3910),f=n(9558),h=n(7096),p=n(7104),z=n(5622),g=n(3575),m=n(5451),y="#3A3A3D",x="#818384",v="#D7DADC",b="#538D4E",w="#B22222",j=(r={},(0,i.default)(r,y,"\u2b1b"),(0,i.default)(r,b,"\ud83d\udfe9"),(0,i.default)(r,w,"\ud83d\udfe7"),"DELETE"),k="NEXT",S=k,C=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],[j,"z","x","c","v","b","n","m",k]],_=n(5314),B=(g.default.get("window").width-10)/C[0].length,O=1*B;g.default.get("window").height;const P=s.default.create({keyboard:{},row:{flexDirection:"row",justifyContent:"center"},key:{width:B-5,height:O-5,margin:2,borderRadius:5,backgroundColor:x,justifyContent:"center",alignItems:"center"},keyText:{color:"#FFFFFF",fontWeight:"bold",fontFamily:"Verdana",fontSize:22}});var T=n(8446);const V=function(e){var t=e.onKeyPressed,n=void 0===t?function(){}:t,r=e.greenCaps,i=void 0===r?[]:r,l=e.yellowCaps,o=void 0===l?[]:l,a=e.greyCaps,u=void 0===a?[]:a,s=function(e){return e===j||e===k},f=function(e){return i.includes(e)?y:o.includes(e)?w:u.includes(e)?y:x};return(0,T.jsx)(d.default,{style:P.keyboard,children:C.map((function(e,t){return(0,T.jsx)(d.default,{style:P.row,children:e.map((function(e){return(0,T.jsx)(_.default,{onPress:function(){return n(e)},disabled:u.includes(e),style:[P.key,s(e)?{width:1.4*B}:{},{backgroundColor:f(e)}],children:(0,T.jsx)(c.default,{style:P.keyText,children:e.toUpperCase()})},e)}))},"row-"+t)}))})};var F=n(9680),D=(n(3593),n(1701));function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={current_puzzle:1,puzzles:{1:{ciphersequence:"hqjuibmswaynpreovtfdczxlgk",cipher:"bet meu fe neziu dsi xetnu.",phrase:"for god so loved the world.",topic:"Love",book:"John 1",chapter:"3",verse:"16",isSolved:!1,current_state:"",hints:{e:"o",u:"d"," ":" ","!":"!",".":".",",":","},start_time:null,end_time:null,time_taken:null,next_puzzle:2},2:{ciphersequence:"hqjuibmswaynpreovtfdczxlgk",cipher:"nid hnn dshd gec ue qi ueri wr nezi.",phrase:"let all that you do be done in love.",topic:"Love",book:"1 Corinthians",chapter:"16",verse:"14",isSolved:!1,current_state:"",hints:{n:"l",r:"n"," ":" ","!":"!",".":".",",":","},start_time:null,end_time:null,time_taken:null,next_puzzle:3},3:{ciphersequence:"hqjuibmswaynpreovtfdczxlgk",cipher:"ue redswrm btep finbwfs hpqwdwer et jerjiwd, qcd wr scpwnwdg jecrd edsitf peti fwmrwbwjhrd dshr gectfinzif.",phrase:"do nothing from selfish ambition or conceit, but in humility count others more significant than yourselves.",topic:"Humility",book:"Philippians 2",chapter:"2",verse:"3",isSolved:!1,current_state:"",hints:{r:"n",m:"g",f:"s",w:"i"," ":" ","!":"!",".":".",",":","},start_time:null,end_time:null,time_taken:null,next_puzzle:4},4:{ciphersequence:"'mwtohslqrcyinkdjfpuvagebxz'",cipher:"wh yrko mko tdnjmuurdkmvh vd dkh mkdvqhp, sdplrgrkl hmtq dvqhp, cauv mu rk tqpruv ldo sdplmgh xda.",phrase:"be kind and compassionate to one another, forgiving each other, just as in christ god forgave you.",topic:"kindness",book:"Ephesians",chapter:"4",verse:"32",isSolved:!1,current_state:"",hints:{o:"d",y:"k",r:"i",u:"s",t:"c",g:"v",d:"o"," ":" ","!":"!",".":".",",":","},start_time:null,end_time:null,time_taken:null,next_puzzle:5},5:{ciphersequence:"knrwyshjaecbpqmiutoxfzldvg",cipher:"om ljyxjyt vmf ykx mt wtaqc mt ljkxyzyt vmf wm, wm ax kbb smt xjy hbmtv ms hmw.",phrase:"so whether you eat or drink or whatever you do, do it all for the glory of god.",topic:"Glorifying God",book:"1 Corinthians",chapter:"10",verse:"31",isSolved:!1,current_state:"",hints:{o:"s",y:"e",c:"k"," ":" ","!":"!",".":".",",":","},start_time:null,end_time:null,time_taken:null,next_puzzle:1},6:{ciphersequence:"hqmeraygjiudskntpoxcfwlvbz",cipher:"cofxc jk cgr dnoe ljcg hdd bnfo grhoc hke drhk knc nk bnfo nlk fkeroxchkejky.",phrase:"trust in the lord with all your heart and lean not on your own understanding.",topic:"trust",book:"Proverbs",chapter:"3",verse:"5",isSolved:!1,current_state:"",hints:{f:"u",n:"o",h:"a",c:"t",e:"d"," ":" ","!":"!",".":".",",":","},start_time:null,end_time:null,time_taken:null,next_puzzle:1}}},A=function(e){var t=e.puzzleNumber,n=e.onPuzzlesPress,r=e.onSettingsPress;return(0,T.jsxs)(d.default,{style:M.titleBar,children:[(0,T.jsx)(z.default,{style:M.button,onPress:n,children:(0,T.jsxs)(c.default,{style:M.buttonText,children:[" Puzzle #",t]})}),(0,T.jsx)(d.default,{style:M.titleContainer,children:(0,T.jsx)(c.default,{style:M.title,children:"Biblegram"})}),(0,T.jsx)(z.default,{style:M.button,onPress:r,children:(0,T.jsx)(c.default,{style:M.buttonText,children:"Settings"})})]})};function R(){var e=(0,u.useState)(null),t=(0,o.default)(e,2),n=t[0],r=t[1],s=(0,u.useState)(!1),y=(0,o.default)(s,2),x=y[0],v=y[1],b=(0,u.useState)(!1),w=(0,o.default)(b,2),k=w[0],C=w[1],_=(0,u.useState)(!1),B=(0,o.default)(_,2),O=B[0],P=B[1],I=(0,u.useState)(""),R=(0,o.default)(I,2),L=R[0],N=R[1],G=(0,u.useState)(0),J=(0,o.default)(G,2),H=J[0],K=J[1],U=(0,u.useState)(!1),X=(0,o.default)(U,2),Q=X[0],Y=X[1],Z=g.default.get("window").width,$=(Math.floor(Z/19.2),[","," ","'","!","."]);(0,u.useEffect)((function(){te()}),[]),(0,u.useEffect)((function(){if(n){var e=n.puzzles[n.current_puzzle];N(e.cipher.split("").map((function(t){return e.hints[t]||"_"})).join(""));var t=e.cipher.split("");K(ae(t,e.hints))}}),[n]),(0,u.useEffect)((function(){if("web"===m.default.OS)return window.addEventListener("keydown",ee),function(){window.removeEventListener("keydown",ee)}}),[n,L,H]);var ee=function(e){var t=e.key.toLowerCase();("abcdefghijklmnopqrstuvwxyz".includes(t)||"backspace"===t||" "===t||"arrowleft"===t||"arrowright"===t)&&le(t)},te=function(){var e=(0,l.default)((function*(){try{var e=yield F.default.getItem("puzzleData");e?r(JSON.parse(e)):(r(E),ne(E))}catch(t){console.error("Error loading puzzle data:",t)}}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,l.default)((function*(e){try{yield F.default.setItem("puzzleData",JSON.stringify(e))}catch(t){console.error("Error saving puzzle data:",t)}}));return function(t){return e.apply(this,arguments)}}();var re=function(e){var t=n.puzzles[n.current_puzzle],r=t.cipher.split(""),i=L.split(""),l=t.cipher[H];L[H];t.hints[l]&&H<r.length&&K(H+1);var o=function(e,t){for(var n=e.split(" "),r=[],i=n[0],l=1;l<n.length;l++)i.length+n[l].length<=t?i+=" "+n[l]:(i+=" ",r.push(i),i=n[l]);return r.push(i),r}(t.cipher,23),a=(function(e,t){var n=0,r=[];for(var i of t)r.push(n),n+=i.length}(0,o),-1);return(0,T.jsx)(d.default,{style:M.puzzleScrollViewViewColumn,children:o.map((function(n,r){return(0,T.jsx)(d.default,{style:M.puzzleScrollViewViewRow,children:n.split("").map((function(n,r){var l=a+=1,o=l===H,u=t.hints[n],s=null!==H&&t.cipher[H]===n,f=e.includes(i[l]),h=$.includes(i[l]);return(0,T.jsx)(d.default,{style:M.puzzleScrollViewCharSet,children:(0,T.jsx)(z.default,{onPress:function(){u||K(l)},children:(0,T.jsxs)(d.default,{style:{alignItems:"center",justifyContent:"center"},children:[(0,T.jsx)(c.default,{style:{fontFamily:"Verdana",textTransform:"uppercase",fontSize:18,backgroundColor:"transparent",marginBottom:-35,fontweight:"bold",height:h?40:22,marginLeft:h?-10:0},children:"_"===i[l]?" ":i[l]}),u?$.includes(i[l])?console.log("TODO: forgot why I did this.."):(0,T.jsx)(c.default,{style:{color:"grey",fontSize:35,height:30,backgroundColor:o||s?"cyan":"transparent"},children:"_"}):(0,T.jsx)(c.default,{style:{color:f?"#EE4B2B":"black",fontSize:35,backgroundColor:o||s?"purple":"transparent",opacity:.42,height:39,borderBottomWidth:o?8:1,fontWeight:o?"bold":"normal"},children:"_"}),!u&&(0,T.jsx)(c.default,{style:{fontFamily:"Verdana",textTransform:"uppercase",fontSize:15,height:9,backgroundColor:"transparent",color:"gray",marginTop:0,marginBottom:-18},children:n})]})},l)})}))},n+r)}))})},ie=function(e){var t=n.puzzles[n.current_puzzle],r=t.cipher[e];return!!t.hints[r]},le=function(e){var t=n.puzzles[n.current_puzzle],l=t.cipher.split(""),o=l[H];if(!t.isSolved){var a=H;if("arrowright"==e||" "==e)return a=(a+1)%l.length,void K(a);if("arrowleft"==e||e==j){if(0==H)for(var u=l.length-1;u>=0;u--)if(!ie(u)){K(u);break}e=j}var s=L.split("").map((function(t,n){return l[n]!==o||ie(n)||e===S?t:e===j?"_":e})).join("");if(N(s),function(e,t){return e===t.phrase}(s,t)&&(r((function(e){var t=q(q({},e.puzzles),{},(0,i.default)({},e.current_puzzle,q(q({},e.puzzles[e.current_puzzle]),{},{isSolved:!0,end_time:(new Date).toISOString()})));return q(q({},e),{},{puzzles:t})})),Y(!0),setTimeout((function(){Y(!1)}),2e4)),e===j){for(var c=H-1;c>=0&&t.hints[t.cipher[c]];)c--;c>=0&&K(c)}else!function(e){var t=n.puzzles[n.current_puzzle].cipher.split(""),r=e;if(L.includes("_")){do{r=(r+1)%t.length}while("_"!=L[r]);K(r)}}(H)}},oe=function(){r((function(e){return q(q({},e),{},{current_puzzle:e.puzzles[n.current_puzzle].next_puzzle})}))},ae=function(e,t){for(var n=0;n<e.length;n++)if(!t[e[n]])return n;return console.log("huge error in findfirstindex() function"),-1},ue=0;return null!=n&&(ue=n.current_puzzle),(0,T.jsxs)(f.default,{style:M.container,children:[(0,T.jsx)(d.default,{style:M.titleBarContainer,children:(0,T.jsx)(A,{puzzleNumber:ue,onPuzzlesPress:function(){C(!1),P(!1),v(!x)},onSettingsPress:function(){v(!1),P(!1),C(!k)}})}),(0,T.jsx)(d.default,{style:M.notTitleBarContainer,children:x?(0,T.jsx)((function(e){var t=e.currentPuzzleId,n=e.puzzles,r=e.onSelect;return(0,T.jsx)(d.default,{children:Object.keys(n).map((function(e){return(0,T.jsx)(z.default,{style:M.puzzleMenuItem,onPress:function(){e!==t?r(e):v(!1)},children:(0,T.jsxs)(c.default,{children:["Puzzle ",e," ",n[e].isSolved?"(Solved)":""]})},e)}))})}),{currentPuzzleId:ue,puzzles:n.puzzles,onSelect:function(e){var t;t=e,r((function(e){return q(q({},e),{},{current_puzzle:t})})),v(!1)}}):k?(0,T.jsxs)(d.default,{style:M.settingsMenu,children:[(0,T.jsx)(z.default,{onPress:function(){var e=n.puzzles[n.current_puzzle],t=e.cipher.split("");K(ae(t,e.hints)),N(e.cipher.split("").map((function(t){return e.hints[t]||"_"})).join("")),C(!1)},children:(0,T.jsx)(c.default,{style:M.menuItemText,children:"Reset current puzzle"})}),(0,T.jsx)(z.default,{onPress:function(){P(!0),C(!1)},children:(0,T.jsx)(c.default,{style:M.menuItemText,children:"About Biblegram"})})]}):O?(0,T.jsx)(W,{onClose:function(){P(!1)}}):(0,T.jsx)(d.default,{style:M.puzzleContainer,children:function(){if(!n)return null;var e=n.puzzles[n.current_puzzle],t=L.split(""),r=Object.values(e.hints),i=t.reduce((function(e,t,n){return r.includes(t)||(e[t]?e[t].push(n):e[t]=[n]),e}),{}),l=Object.keys(i).filter((function(t){var n=i[t];return new Set(n.map((function(t){return e.cipher[t]}))).size>1})).filter((function(e){return"_"!=e})),o=(0,a.default)(new Set(L)).filter((function(e){return!r.includes(e)&&!l.includes(e)}));return(0,T.jsx)(d.default,{style:M.container,children:e.isSolved?(0,T.jsxs)(d.default,{style:M.solvedContainer,children:[(0,T.jsx)(c.default,{style:M.solvedPuzzle,children:e.phrase}),(0,T.jsxs)(c.default,{style:M.solvedReference,children:["- ",e.book," ",e.chapter,":",e.verse]}),(0,T.jsx)(d.default,{style:[{width:"98%",margin:10,alignItems:"center"}],children:(0,T.jsx)(h.default,{title:"Go to Next Puzzle",onPress:oe})}),Q&&(0,T.jsx)(D.default,{count:100,origin:{x:0,y:0},fadeOut:!0,explosionSpeed:0,fallSpeed:3e3})]}):(0,T.jsxs)(d.default,{style:M.mainContainer,children:[(0,T.jsx)(d.default,{style:M.puzzleScrollView,children:(0,T.jsx)(p.default,{style:M.puzzleScrollViewView,children:re(l)})}),(0,T.jsxs)(d.default,{style:M.hintsContainer,children:[(0,T.jsxs)(c.default,{style:M.hintText,children:[" ",e.book]}),(0,T.jsxs)(c.default,{style:M.hintText,children:[' "',e.topic,'"']})]}),(0,T.jsx)(d.default,{style:M.keyboardContainer,children:(0,T.jsx)(V,{onKeyPressed:le,greyCaps:r,yellowCaps:l,greenCaps:o})})]})})}()})})]})}var W=function(e){var t=e.onClose;return(0,T.jsxs)(d.default,{style:M.aboutBiblegram,children:[(0,T.jsx)(c.default,{style:M.aboutTitle,children:"About Biblegram"}),(0,T.jsx)(c.default,{style:M.aboutBiblegram,children:"Biblegram is a cryptogram puzzle game based on Bible verses. Users can solve puzzles by decrypting the encoded text to reveal the original verse."}),(0,T.jsx)(z.default,{style:M.closeButton,onPress:t,children:(0,T.jsx)(c.default,{style:M.closeButtonText,children:"Close"})})]})},M=s.default.create({container:{fontFamily:"Verdana",fontSize:18,fontFamily:"Verdana",flex:1,backgroundColor:"#F5F5F5"},solvedContainer:{flex:1,fontSize:18,fontFamily:"Verdana"},mainContainer:{flex:1},mainPuzzleContainer:{justifyContent:"flex-end",flex:7},puzzleScrollView:{name:"Iampuzzlescrollview",flexDirection:"row",justifyContent:"center",flex:.9,flexGrow:3,padding:"3%"},puzzleScrollViewView:{flexDirection:"column",flex:1,name:"Iampuzzlescrollviewview"},puzzleScrollViewCharSet:{name:"IampuzzleScrollViewCharSet",justifyContent:"center",alignItems:"center",width:22},puzzleScrollViewViewRow:{paddingTop:8,paddingLeft:10,flex:1,flexDirection:"row",justifyContent:"left",name:"Iampuzzlescrollviewviewrow",marginBottom:60},puzzleScrollViewViewColumn:{flex:1,name:"IampuzzlescrollviewviewColumn",flexDirection:"column"},hintsContainer:{flexGrow:.4,flexShrink:2,flexDirection:"column",alignContent:"center",justifyContent:"center",name:"hintscontainer",textAlign:"right"},insideMainContainerBottom:{},cipherText:{},inputText:{flexDirection:"row",flexWrap:"wrap"},notTitleBarContainer:{flex:9},titleBarContainer:{flex:1},titleBar:{flexDirection:"row",justifyContent:"space-between",backgroundColor:"#3F51B5",alignSelf:"stretch",alignItems:"center",paddingTop:15,paddingBottom:15,paddingRight:10},titleContainer:{alignItems:"center"},title:{fontFamily:"cursive",color:"white",fontSize:33,fontWeight:"bold",MarginVertical:0,justifyContent:"center"},puzzleNumber:{paddingTop:10,fontFamily:"Verdana",color:"white",justifyContent:"center"},hints:{fontWeight:"bold",alignSelf:"stretch",fontFamily:"Verdana",fontSize:15,MarginVertical:0,flexDirection:"row",justifyContent:"right",alignItems:"right"},button:{color:v,padding:10,justifyContent:"center",fontWeight:"bold",fontSize:28},buttonText:{justifyContent:"center",fontWeight:"bold",fontFamily:"system-ui",color:"white",fontSize:16},puzzleMenuItem:{flexDirection:"row",justifyContent:"left",textAlign:"right",padding:10,fontSize:20,paddingTop:20,paddingLeft:20,fontFamily:"Verdana",paddingBottom:15,borderBottomWidth:1,borderBottomColor:"#3F51B5"},menuItemText:{padding:10,flexDirection:"row",justifyContent:"right",paddingTop:20,paddingRight:20,textAlign:"right",fontFamily:"Verdana",fontSize:20,paddingBottom:15,borderBottomWidth:1,borderBottomColor:"#3F51B5"},aboutBiblegram:{padding:20,alignSelf:"stretch",flex:1},aboutTitle:{fontSize:20,fontWeight:"bold",marginBottom:20},aboutText:{fontSize:16,textAlign:"justify",marginBottom:30},closeButton:{backgroundColor:"#3F51B5",width:70,paddingHorizontal:5,paddingVertical:5,borderRadius:5,alignItems:"center"},closeButtonText:{fontFamily:"Verdana",fontSize:14,color:"white"},puzzleContainer:{flex:1},hintText:{fontSize:20,paddingRight:20,fontStyle:"italic",color:"blue",textAlign:"left"},solvedPuzzle:{fontFamily:"Verdana",fontSize:30,textTransform:"capitalize",textAlign:"center"},solvedReference:{paddingTop:30,paddingRight:20,paddingBottom:20,fontSize:20,fontStyle:"italic",textAlign:"center"},keyboardContainer:{flexShrink:2,marginBottom:50},keyBoardContainerTop:{}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var l=t[r]={exports:{}};return e[r].call(l.exports,l,l.exports,n),l.exports}n.m=e,(()=>{var e=[];n.O=(t,r,i,l)=>{if(!r){var o=1/0;for(c=0;c<e.length;c++){for(var[r,i,l]=e[c],a=!0,u=0;u<r.length;u++)(!1&l||o>=l)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(a=!1,l<o&&(o=l));if(a){e.splice(c--,1);var s=i();void 0!==s&&(t=s)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[r,i,l]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,l,[o,a,u]=r,s=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(u)var c=u(n)}for(t&&t(r);s<o.length;s++)l=o[s],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[281],(()=>n(9599)));r=n.O(r)})();
//# sourceMappingURL=main.4ef31efd.js.map